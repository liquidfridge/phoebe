{"version":3,"sources":["phoebe.js","config.js","init.js"],"names":["window","undefined","log","str","phoebeConfig","get","core","debug","console","PhoebeConfig","this","flags","set","config","Phoebe","init","namespace","prototype","isDependenciesLoaded","Drupal","settings","phoebe","isSet","value","arguments","length","values","lodash","merge","FastClick","jQuery","rhea","icon","initDeferred","promise","Q","defer","apply","attach","document","body","resolve","intv","setInterval","clearInterval","iconConfig","colors","black","light-sky","navy","white","prefix","pngUrl","url","size","svg"],"mappings":"CAQA,SAAAA,EAAAC,GAQA,QAAAC,GAAAC,GACAH,EAAAI,aAAAC,MAAAC,KAAAC,OACAC,QAAAN,IAAAC,GAQA,QAAAM,KACAC,KAAAC,OACAC,KAAA,GAGAF,KAAAG,QACAP,MACAC,OAAA,IA+CA,QAAAO,KACAJ,KAAAC,OACAI,MAAA,GAxEA,GAAAC,GAAA,QAgCAP,GAAAQ,UAAAC,qBAAA,WACA,SAAAlB,EAAAmB,QAAAnB,EAAAmB,OAAAC,UAAApB,EAAAmB,OAAAC,SAAAC,SAQAZ,EAAAQ,UAAAK,MAAA,SAAAC,GACA,MAAAC,WAAAC,OAAA,OACAf,KAAAC,MAAAC,IAAAW,GAGAb,KAAAC,MAAAC,KAQAH,EAAAQ,UAAAL,IAAA,SAAAc,GACAC,OAAAC,MAAAlB,KAAAG,OAAAa,IAOAjB,EAAAQ,UAAAZ,IAAA,WACA,MAAAK,MAAAG,QAiBAC,EAAAG,UAAAC,qBAAA,WACA,SAAAlB,EAAAI,aAAAkB,SAAAtB,EAAAmB,QAAAnB,EAAA6B,WAAA7B,EAAA8B,QAAA9B,EAAA+B,MAAA/B,EAAA+B,KAAAC,OAOAlB,EAAAG,UAAAF,KAAA,WAGA,MAFAb,GAAAc,EAAA,WAEAN,KAAAC,MAAAI,KACAL,KAAAuB,aAAAC,SAGAxB,KAAAuB,aAAAE,EAAAC,QACA1B,KAAAC,MAAAI,MAAA,EAGAgB,KAAAC,KAAAK,QAGAR,UAAAS,OAAAC,SAAAC,MAEA9B,KAAAuB,aAAAQ,SAAA,GAEA/B,KAAAuB,aAAAC,UAGAlC,EAAAqB,OAAA,GAAAP,GACAd,EAAAI,aAAA,GAAAK,IAEAT,QClHA,SAAAA,EAAAI,EAAA2B,EAAAZ,EAAAlB,GAEA,GAAAyC,GAAAC,YAAA,WACAvC,EAAAc,yBACA0B,cAAAF,GAEAX,EAAAc,WAAAjC,KACAkC,QACAC,MAAA,OACAC,YAAA,UACAC,KAAA,UACAC,MAAA,QAEAC,OAAA,OACAC,OAAAjC,EAAAC,SAAAC,OAAAgC,IAAA,aACAC,KAAA,IACAC,IAAA,QAGAnD,EAAAkB,OAAA,KAEA,KAEAtB,OAAAA,OAAAI,aAAAJ,OAAA+B,KAAA/B,OAAAmB,QCvBA,SAAAnB,EAAAC,GAEA,GAAAyC,GAAAC,YAAA,WACA3C,EAAAqB,QAAArB,EAAAqB,OAAAH,yBACA0B,cAAAF,GAEA1C,EAAAqB,OAAAN,SAEA,KAEAf","file":"phoebe.min.js","sourcesContent":["/**\n * Phoebe\n *\n * @author Hein Bekker <hein@netbek.co.za>\n * @copyright (c) 2015 Hein Bekker\n * @license http://www.gnu.org/licenses/gpl-2.0.txt GPLv2\n */\n\n(function (window, undefined) {\n\n  var namespace = 'Phoebe';\n\n  /**\n   *\n   * @param {String} str\n   */\n  function log(str) {\n    if (window.phoebeConfig.get().core.debug) {\n      console.log(str);\n    }\n  }\n\n  /**\n   *\n   * @returns {PhoebeConfig}\n   */\n  function PhoebeConfig() {\n    this.flags = {\n      set: false\n    };\n\n    this.config = {\n      core: {\n        debug: false // {Boolean}\n      }\n    };\n  }\n\n  /**\n   *\n   * @returns {Boolean}\n   */\n  PhoebeConfig.prototype.isDependenciesLoaded = function () {\n    return !!(window.Drupal && window.Drupal.settings && window.Drupal.settings.phoebe);\n  };\n\n  /**\n   *\n   * @param {Boolean} value\n   * @returns {Boolean}\n   */\n  PhoebeConfig.prototype.isSet = function (value) {\n    if (arguments.length > 0) {\n      this.flags.set = value;\n    }\n    else {\n      return this.flags.set;\n    }\n  };\n\n  /**\n   *\n   * @param {Object} values\n   */\n  PhoebeConfig.prototype.set = function (values) {\n    lodash.merge(this.config, values);\n  };\n\n  /**\n   *\n   * @returns {Object}\n   */\n  PhoebeConfig.prototype.get = function () {\n    return this.config;\n  };\n\n  /**\n   *\n   * @returns {Phoebe}\n   */\n  function Phoebe() {\n    this.flags = {\n      init: false // {Boolean}\n    };\n  }\n\n  /**\n   *\n   * @returns {Boolean}\n   */\n  Phoebe.prototype.isDependenciesLoaded = function () {\n    return !!(window.phoebeConfig.isSet() && window.Drupal && window.FastClick && window.jQuery && window.rhea && window.rhea.icon);\n  };\n\n  /**\n   *\n   * @param {Promise}\n   */\n  Phoebe.prototype.init = function () {\n    log(namespace + '.init()');\n\n    if (this.flags.init) {\n      return this.initDeferred.promise;\n    }\n\n    this.initDeferred = Q.defer();\n    this.flags.init = true;\n\n    // Render icons.\n    rhea.icon.apply();\n\n    // Init FastClick.\n    FastClick.attach(document.body);\n\n    this.initDeferred.resolve(true);\n\n    return this.initDeferred.promise;\n  };\n\n  window.phoebe = new Phoebe();\n  window.phoebeConfig = new PhoebeConfig();\n\n})(window);\n","/**\n * App config\n *\n * @author Hein Bekker <hein@netbek.co.za>\n * @copyright (c) 2015 Hein Bekker\n * @license http://www.gnu.org/licenses/gpl-2.0.txt GPLv2\n */\n\n(function (window, phoebeConfig, rhea, Drupal, undefined) {\n\n  var intv = setInterval(function () {\n    if (phoebeConfig.isDependenciesLoaded()) {\n      clearInterval(intv);\n\n      rhea.iconConfig.set({\n        'colors': {\n          'black': '#222',\n          'light-sky': '#2FC5DA',\n          'navy': '#0A2D50',\n          'white': '#FFF'\n        },\n        'prefix': 'icon',\n        'pngUrl': Drupal.settings.phoebe.url + '/img/icon/',\n        'size': 256,\n        'svg': 'use'\n      });\n\n      phoebeConfig.isSet(true);\n    }\n  }, 20);\n\n})(window, window.phoebeConfig, window.rhea, window.Drupal);\n","/**\n * Initialization\n *\n * @author Hein Bekker <hein@netbek.co.za>\n * @copyright (c) 2015 Hein Bekker\n * @license http://www.gnu.org/licenses/gpl-2.0.txt GPLv2\n */\n\n(function (window, undefined) {\n\n  var intv = setInterval(function () {\n    if (window.phoebe && window.phoebe.isDependenciesLoaded()) {\n      clearInterval(intv);\n\n      window.phoebe.init();\n    }\n  }, 20);\n\n})(window);\n"],"sourceRoot":"/source/"}